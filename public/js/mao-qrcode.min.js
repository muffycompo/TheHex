function read(e){$.ajax({url:"/admin/user/customerforcashier",type:"get",data:{thc:e},success:customer_details,dataType:"json"})}function customer_details(e){var t=$("#audioBeep").attr("src","/audio/beep.mp3")[0];t.play();var a=$("#customer_photo"),o=$("#thc"),r=$("#account_balance"),n=$("#firstname"),i=$("#lastname"),c=$("#email"),s=$("#phone"),d=$("#hostel_address"),l=numeral(e.payment.account_balance).format("0,0"),m=$("#customerId");a.html('<img src="'+e.profile.photo_path+'" alt="Customer Photo" height="150">'),o.html("<strong>"+e.thc+"</strong>"),r.html("<strong>&#8358; "+l+"</strong>"),n.html("<strong>"+e.firstname+"</strong>"),i.html("<strong>"+e.lastname+"</strong>"),c.html("<strong>"+e.email+"</strong>"),s.html("<strong>"+e.phone+"</strong>"),d.html("<strong>"+e.profile.hostel_address+"</strong>"),m.val(e.id)}qrcode.callback=read,$(document).ready(function(){function e(e,a,o){swal({title:e.title,text:t(e.message),type:e.type,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok!",closeOnConfirm:!0},function(){if(a.val(null),o.val(1),e.amount_balance){var t=numeral(e.amount_balance).format("0,0");$("#account_balance").html("<strong>&#8358; "+t+"</strong>")}})}function t(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}$("#orderForm").validate({rules:{order_amount:{required:!0,number:!0}},messages:{order_amount:{require:"Order Amount is required!",number:"Order Amount must be a number!"}}});var a=$("#orderAmount"),o=$("#orderCategory"),r=$("#customerId");$("#orderBtn").on("click",function(t){t.preventDefault(),$.ajax({url:"/admin/user/order",type:"get",data:{customer_id:r.val(),amount:a.val(),category:o.val()},success:function(t){console.log(t),e(t,a,o)},error:function(t){console.log(t),e(t,a,o)},dataType:"json"})})});var camera=function(e,t,a){function o(){l=setInterval(function(e,t){n()},c)}function r(){console.log("Clearing interval with id "+l),clearInterval(l)}function n(){var e=d.videoWidth*s,t=d.videoHeight*s,a=document.getElementById("qr-canvas").getContext("2d");a.drawImage(d,0,0,e,t);try{qrcode.decode()}catch(o){var r=$("#scan_message");r.html('<h4 class="text-center">Scan a Hex Card</h4>')}}if(void 0==e)return void console.log("ERROR: You need to specify the id of the <video> element with the camera data stream.");var i=e,c=void 0!=t?t:1e3,s=void 0!=a?a:.5,d=document.getElementById(i),l=null;return{interval:c,scale:s,start:o,stop:r,capture:n}};navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var cam_video_id="camsource";window.addEventListener("DOMContentLoaded",function(){var e=document.getElementById(cam_video_id),t={audio:!1,video:!0};return navigator.getUserMedia?void navigator.getUserMedia(t,function(t){e.src=window.URL&&window.URL.createObjectURL(t)||t},function(e){console.log(e)}):void $("#compat").text("Your browser seems to be out of date. Please download the recent version!")},!1),$(document).ready(function(){navigator.getUserMedia&&(cam=camera(cam_video_id),cam.start())});
//# sourceMappingURL=mao-qrcode.min.js.map